<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>OpenAI Operator Task Dashboard</title>
    <style>
      body {
        font-family: 'Arial', sans-serif;
        background-color: #f9f9f9;
        color: #333;
        padding: 20px;
        max-width: 1200px;
        margin: auto;
      }
      header {
        background-color: #004aad;
        color: white;
        padding: 10px 20px;
        text-align: center;
        border-radius: 8px;
      }
      .task-section {
        margin-top: 20px;
        background-color: #ffffff;
        padding: 15px;
        border-radius: 8px;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
      }
      .task-section h2 {
        color: #004aad;
      }
      .instruction-box {
        padding: 15px;
        background: #f1f1f1;
        border-radius: 8px;
        margin: 10px 0;
      }
      .gallery {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
        gap: 15px;
        margin-top: 20px;
      }
      .image-card {
        background: white;
        border-radius: 8px;
        overflow: hidden;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
      }
      .image-card img {
        width: 100%;
        height: auto;
        display: block;
      }
      .task-form label {
        display: block;
        margin-bottom: 8px;
        font-weight: bold;
      }
      .task-form textarea {
        width: 100%;
        height: 80px;
        margin-bottom: 10px;
        border-radius: 4px;
        padding: 10px;
        border: 1px solid #ccc;
      }
      button {
        background-color: #004aad;
        color: white;
        border: none;
        padding: 10px 15px;
        border-radius: 4px;
        cursor: pointer;
      }
      button:hover {
        background-color: #00318c;
      }
    </style>
  </head>
  <body>
    <header>
      <h1>OpenAI Operator Task Dashboard</h1>
    </header>

    <section class="task-section">
      <h2>Instructions for OpenAI Operator</h2>
      <div class="instruction-box">
        <p>
          1. Navigate to the following S3 bucket location to fetch images:
          <strong>https://images-947384912039.s3.amazonaws.com/images/</strong>
        </p>
        <p>
          2. The images are organized by <code>year/month/day/hour</code>. Use a file
          browser or automated script to retrieve and process them.
        </p>
        <p>
          3. Image file names follow the pattern:
          <code>image_{timestamp}.png</code>. Metadata is embedded in each image
          file.
        </p>
        <p>
          4. Perform tasks based on the user instructions provided below.
        </p>
      </div>

      <h2>Task Instructions</h2>
      <form class="task-form">
        <label for="task-input">User Instructions:</label>
        <textarea id="task-input" placeholder="Enter tasks here for OpenAI Operator..."></textarea>
        <button type="button" id="submit-task">Submit Task</button>
      </form>

      <div id="task-display"></div>
    </section>

    <section class="task-section">
      <h2>Image Gallery from S3 Bucket</h2>
      <div id="gallery" class="gallery"></div>
    </section>

    <script>
      const bucketUrl = "https://images-947384912039.s3.amazonaws.com/images/";
      const gallery = document.getElementById("gallery");
      const taskDisplay = document.getElementById("task-display");
      const submitTaskButton = document.getElementById("submit-task");
      const taskInput = document.getElementById("task-input");

      // Dummy data for demonstration purposes
      const sampleImages = [
        "2025/02/05/01/image_2025-02-05T01-31-15-288Z.png",
        "2025/02/05/01/image_2025-02-05T01-35-20-500Z.png",
      ];

      // Display sample images in the gallery
      function loadImages() {
        gallery.innerHTML = ""; // Clear existing images
        sampleImages.forEach((path) => {
          const imgUrl = `${bucketUrl}${path}`;
          const card = document.createElement("div");
          card.classList.add("image-card");
          card.innerHTML = `<img src="${imgUrl}" alt="S3 Image" />`;
          gallery.appendChild(card);
        });
      }

      // Handle task submission
      submitTaskButton.addEventListener("click", () => {
        const taskText = taskInput.value.trim();
        if (taskText) {
          taskDisplay.innerHTML = `<p><strong>Task Submitted:</strong> ${taskText}</p>`;
          taskInput.value = "";
        } else {
          alert("Please enter a task before submitting.");
        }
      });

      // Load the initial gallery
      loadImages();
    </script>
  </body>
</html>
